{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Evan_\\\\stream-dolby-voxeet\\\\src\\\\screens\\\\Login\\\\Login.js\";\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport shortid from 'shortid'; // Redux //\n\nimport { createStructuredSelector } from 'reselect';\nimport { makeSelectIsAuthed, makeSelectCurrentUser } from 'data/auth/selectors';\nimport { loginRequest } from 'data/auth/actions';\nimport { queueSnackbar } from 'containers/Snackbar/actions'; // Assets //\n\nimport BackgroundImg from 'assets/bg.jpg';\nimport StreamLogo from \"assets/stream.svg\"; // Forms //\n\nimport LoginForm from 'forms/LoginForm'; // Components //\n\nimport Button from 'components/Button';\nimport Logo from 'components/Logo';\nimport Text from 'components/Text';\nconst Root = styled.div`\n    display: flex;\n    flex: 1;\n    background-image: url(${BackgroundImg});\n    background-size: cover;\n`;\nconst Overlay = styled.div`\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: ${({\n  theme\n}) => theme.colorUtils.fade(theme.color.background, 0.88)};\n`;\nconst Container = styled.div`\n    max-width: 1280px;\n    width: 100%;\n    padding: 0px 24px;\n    margin: 0 auto;\n    z-index: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: flex-start;\n    align-self: center;\n`;\nconst Title = styled(Text)`\n    margin-top: 16px;\n    text-transform: capitalize;\n`;\nconst Avatar = styled.div`\n    width: 160px;\n    height: 160px;\n    border-radius: 50%;\n    background-image: ${({\n  src\n}) => `url(${src})`};\n    background-size: cover;\n    margin-bottom: 16px;\n`;\nconst Header = styled.div`\n    display: flex;\n    max-width: 1280px;\n    width: 100%;\n    margin: 0 auto;\n    padding: 80px 24px 40px 24px;\n    align-items: center;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n`;\nconst CallBtn = styled(Button)`\n    margin-top: 32px;\n`;\nconst Stream = styled.img`\n    max-height: 96px;\n    margin-left: 40px;\n`;\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.startCall = () => {\n      const {\n        history\n      } = this.props;\n      const conferenceAlias = shortid();\n      history.push(`/${conferenceAlias}`);\n    };\n\n    this.handleLogin = val => {\n      const {\n        loginRequest\n      } = this.props;\n      loginRequest(val, this.conferenceAlias);\n    };\n\n    this.renderForm = () => {\n      return /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Title, {\n        size: 40,\n        weight: \"600\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }\n      }, \"Welcome.\"), /*#__PURE__*/React.createElement(Text, {\n        size: 16,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }\n      }, \"Enter a username to get started.\"), /*#__PURE__*/React.createElement(LoginForm, {\n        conferenceAlias: this.conferenceAlias,\n        onSubmit: this.handleLogin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }\n      }));\n    };\n\n    this.renderWelcome = () => {\n      const {\n        user\n      } = this.props;\n      return /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Avatar, {\n        src: user.image,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Title, {\n        size: 32,\n        weight: \"600\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }\n      }, \"Welcome back, \", this.userName, \".\"), /*#__PURE__*/React.createElement(CallBtn, {\n        label: \"Start Video Call\",\n        onClick: this.startCall,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      }));\n    };\n  }\n\n  get conferenceAlias() {\n    const {\n      location\n    } = this.props;\n    return location.state ? location.state.conferenceAlias : null;\n  }\n\n  async componentDidMount() {\n    const {\n      queueSnackbar\n    } = this.props;\n\n    if (this.conferenceAlias) {\n      await queueSnackbar({\n        isError: true,\n        text: 'Please login first.'\n      });\n    }\n  }\n\n  get userName() {\n    const {\n      user\n    } = this.props;\n    return user.name.replace(/_/g, ' ');\n  }\n\n  render() {\n    const {\n      isAuthed\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Root, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Overlay, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Logo, {\n      color: \"white\",\n      size: 56,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Stream, {\n      src: StreamLogo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    })), isAuthed ? this.renderWelcome() : this.renderForm());\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  isAuthed: makeSelectIsAuthed(),\n  user: makeSelectCurrentUser()\n});\nexport default connect(mapStateToProps, {\n  loginRequest,\n  queueSnackbar\n})(Login);","map":{"version":3,"sources":["C:/Users/Evan_/stream-dolby-voxeet/src/screens/Login/Login.js"],"names":["React","Component","styled","connect","shortid","createStructuredSelector","makeSelectIsAuthed","makeSelectCurrentUser","loginRequest","queueSnackbar","BackgroundImg","LoginForm","Button","Logo","Text","Root","div","Overlay","theme","colorUtils","fade","color","background","Container","Title","Avatar","src","Header","CallBtn","Stream","img","Login","startCall","history","props","conferenceAlias","push","handleLogin","val","renderForm","renderWelcome","user","image","userName","location","state","componentDidMount","isError","text","name","replace","render","isAuthed","StreamLogo","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport shortid from 'shortid';\r\n\r\n// Redux //\r\nimport { createStructuredSelector } from 'reselect';\r\nimport { makeSelectIsAuthed, makeSelectCurrentUser } from 'data/auth/selectors';\r\nimport { loginRequest } from 'data/auth/actions';\r\nimport { queueSnackbar } from 'containers/Snackbar/actions';\r\n\r\n// Assets //\r\nimport BackgroundImg from 'assets/bg.jpg';\r\nimport StreamLogo from 'assets/stream.svg';\r\n\r\n// Forms //\r\nimport LoginForm from 'forms/LoginForm';\r\n\r\n// Components //\r\nimport Button from 'components/Button';\r\nimport Logo from 'components/Logo';\r\nimport Text from 'components/Text';\r\n\r\nconst Root = styled.div`\r\n    display: flex;\r\n    flex: 1;\r\n    background-image: url(${BackgroundImg});\r\n    background-size: cover;\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: ${({ theme }) => theme.colorUtils.fade(theme.color.background, 0.88)};\r\n`;\r\n\r\nconst Container = styled.div`\r\n    max-width: 1280px;\r\n    width: 100%;\r\n    padding: 0px 24px;\r\n    margin: 0 auto;\r\n    z-index: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n    align-self: center;\r\n`;\r\n\r\nconst Title = styled(Text)`\r\n    margin-top: 16px;\r\n    text-transform: capitalize;\r\n`;\r\n\r\nconst Avatar = styled.div`\r\n    width: 160px;\r\n    height: 160px;\r\n    border-radius: 50%;\r\n    background-image: ${({ src }) => `url(${src})`};\r\n    background-size: cover;\r\n    margin-bottom: 16px;\r\n`;\r\n\r\nconst Header = styled.div`\r\n    display: flex;\r\n    max-width: 1280px;\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    padding: 80px 24px 40px 24px;\r\n    align-items: center;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n`;\r\n\r\nconst CallBtn = styled(Button)`\r\n    margin-top: 32px;\r\n`;\r\n\r\nconst Stream = styled.img`\r\n    max-height: 96px;\r\n    margin-left: 40px;\r\n`;\r\n\r\nclass Login extends Component {\r\n    get conferenceAlias() {\r\n        const { location } = this.props;\r\n        return location.state ? location.state.conferenceAlias : null;\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { queueSnackbar } = this.props;\r\n        if (this.conferenceAlias) {\r\n            await queueSnackbar({\r\n                isError: true,\r\n                text: 'Please login first.',\r\n            });\r\n        }\r\n    }\r\n\r\n    get userName() {\r\n        const { user } = this.props;\r\n        return user.name.replace(/_/g, ' ');\r\n    }\r\n\r\n    startCall = () => {\r\n        const { history } = this.props;\r\n        const conferenceAlias = shortid();\r\n        history.push(`/${conferenceAlias}`);\r\n    };\r\n\r\n    handleLogin = (val) => {\r\n        const { loginRequest } = this.props;\r\n        loginRequest(val, this.conferenceAlias);\r\n    };\r\n\r\n    renderForm = () => {\r\n        return (\r\n            <Container>\r\n                <Title size={40} weight='600'>\r\n                    Welcome.\r\n                </Title>\r\n                <Text size={16}>Enter a username to get started.</Text>\r\n                <LoginForm conferenceAlias={this.conferenceAlias} onSubmit={this.handleLogin} />\r\n            </Container>\r\n        );\r\n    };\r\n\r\n    renderWelcome = () => {\r\n        const { user } = this.props;\r\n        return (\r\n            <Container>\r\n                <Avatar src={user.image} />\r\n                <Title size={32} weight='600'>\r\n                    Welcome back, {this.userName}.\r\n                </Title>\r\n                <CallBtn label='Start Video Call' onClick={this.startCall} />\r\n            </Container>\r\n        );\r\n    };\r\n\r\n    render() {\r\n        const { isAuthed } = this.props;\r\n        return (\r\n            <Root>\r\n                <Overlay />\r\n                <Header>\r\n                    <Logo color='white' size={56} />\r\n                    <Stream src={StreamLogo} />\r\n                </Header>\r\n                {isAuthed ? this.renderWelcome() : this.renderForm()}\r\n            </Root>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n    isAuthed: makeSelectIsAuthed(),\r\n    user: makeSelectCurrentUser(),\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { loginRequest, queueSnackbar },\r\n)(Login);\r\n"]},"metadata":{},"sourceType":"module"}